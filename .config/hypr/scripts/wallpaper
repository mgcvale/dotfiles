#!/usr/bin/bash

mode=$1

if [ "$mode" = "" ]; then
	echo "Usage: $0 [select|random]"
	exit 1
fi

if [ "$mode" == "select" ]; then
	IMAGE=$(fd --base-directory "$HOME/.config/hypr/themes/luna/walls/" --type f . | rofi -dmenu)

	if [ "$IMAGE" = "" ]; then
		exit 1
	fi
elif [ "$mode" == "random" ]; then
	IMAGE=$(fd --base-directory "$HOME/.config/hypr/themes/luna/walls/" --type f . | shuf -n 1)
else
	exit 1
fi

swww img "$HOME/.config/hypr/themes/luna/walls/$IMAGE" \
	--transition-bezier 0.5,1.19,.8,.4 \
	--transition-type wipe \
	--transition-duration 2 \
	--transition-fps 75

notify-send "Wallpaper Changed" -i "$HOME/.config/hypr/themes/luna/walls/$IMAGE"
